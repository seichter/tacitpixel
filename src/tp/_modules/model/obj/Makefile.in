
TAP=@top_srcdir@

include $(TAP)/config


# name
NAME = tpOBJ

# whats out
OUTPUT = $(NAME).@SO_SUFFIX@

BUILDDIR = $(TAP)/bin
SRCDIR = $(TAP)/src

# include directory
INCLUDES = -I$(TAP)/include -I./lib

LIBPATH= @LDFLAGS@


# some flags for the compiler
CXXFLAGS = -Wall $(INCLUDES) @CPPFLAGS@ 

VERSION=@LIB_MAJOR@

# doxygen
DOXYGEN = doxygen

# compilers
CXX = @CXX@
CC = @CC@

# archive
AR = ar
RANLIB = ranlib

AROPTIONS = rcu

LIBS = -L$(TAP)/lib -lTAP @LIBS@

objects = main.o \
	glm.o


TARGETS=$(OUTPUT)

.PHONY: all clean new doc


all : $(TARGETS)


%.o : %.cpp
	$(CXX) @CPPFLAGS_PLUGIN@ -c $(CXXFLAGS) $(INCLUDES) -o $@ $<

%.o : %.c
	$(CXX) @CPPFLAGS_PLUGIN@ -c $(CXXFLAGS) $(INCLUDES) -o $@ $<


$(OUTPUT):$(objects)
	$(CC) @LDFLAGS_PLUGIN@ -o $@ $(objects) $(LIBS) $(LIBPATH)
	cp -f $@ $(BUILDDIR)/$@


clean :
	@echo Removing files ...
	rm -f $(objects) $(OUTPUT)


new: clean all
